{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan Seow\\\\Desktop\\\\CS\\\\Web Dev (Udemy)\\\\My Work\\\\book\\\\client\\\\src\\\\components\\\\Browse.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction Browse() {\n  const [books, setBooks] = useState([]);\n  /*\r\n   Note:\r\n   This component “subscribes” to a promise by axios.get, but it never “unsubscribes” or cancels the request. If for any reason, the component is unmounted before the promise resolves, the code will try to “set state” (calling setBooks) on an unmounted component. This will throw a warning.\r\n   */\n\n  useEffect(() => {\n    let isSubscribed = true;\n    axios.get(\"http://localhost4000/\").then(res => {\n      if (isSubscribed) {\n        // Make sure setBooks is not executed when component is unmounted\n        console.log(res);\n        setBooks(res.data);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n    return () => isSubscribed = false;\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Browse Component\"));\n}\n\nexport default Browse;","map":{"version":3,"sources":["C:/Users/Jonathan Seow/Desktop/CS/Web Dev (Udemy)/My Work/book/client/src/components/Browse.js"],"names":["React","useState","useEffect","axios","Browse","books","setBooks","isSubscribed","get","then","res","console","log","data","catch","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,MAAT,GAAkB;AAEhB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;AAEA;;;;;AAKAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIK,YAAY,GAAG,IAAnB;AAEAJ,IAAAA,KAAK,CAACK,GAAN,CAAU,uBAAV,EAAmCC,IAAnC,CAAwCC,GAAG,IAAI;AAC7C,UAAIH,YAAJ,EAAkB;AAAE;AAClBI,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,QAAAA,QAAQ,CAACI,GAAG,CAACG,IAAL,CAAR;AACD;AACF,KALD,EAKGC,KALH,CAKSC,KAAK,IAAI;AAChBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACD,KAPD;AASA,WAAO,MAAMR,YAAY,GAAG,KAA5B;AAED,GAdQ,EAcN,EAdM,CAAT;AAgBA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF;AAKD;;AAED,eAAeH,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Browse() {\r\n\r\n  const [books, setBooks] = useState([]);\r\n\r\n  /*\r\n   Note:\r\n   This component “subscribes” to a promise by axios.get, but it never “unsubscribes” or cancels the request. If for any reason, the component is unmounted before the promise resolves, the code will try to “set state” (calling setBooks) on an unmounted component. This will throw a warning.\r\n   */\r\n\r\n  useEffect(() => {\r\n    let isSubscribed = true;\r\n\r\n    axios.get(\"http://localhost4000/\").then(res => {\r\n      if (isSubscribed) { // Make sure setBooks is not executed when component is unmounted\r\n        console.log(res);\r\n        setBooks(res.data);\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n    });\r\n\r\n    return () => isSubscribed = false;\r\n\r\n  }, []);\r\n\r\n  return(\r\n    <div>\r\n      <p>Browse Component</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Browse;\r\n"]},"metadata":{},"sourceType":"module"}