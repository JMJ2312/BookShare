{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan Seow\\\\Desktop\\\\CS\\\\Web Dev (Udemy)\\\\My Work\\\\Bookstagram\\\\client\\\\src\\\\components\\\\Browse.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport BookCard from \"./BookCard\";\nimport axios from \"axios\";\nimport { v1 as uuidv1 } from \"uuid\"; // Timestamp unique id\n\nfunction Browse() {\n  const [books, setBooks] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  /*\r\n   Note:\r\n   This component “subscribes” to a promise by axios.get, but it never “unsubscribes” or cancels the request.\r\n   If for any reason, the component is unmounted before the promise resolves, the code will try to “set state” (calling setBooks) on an unmounted component.\r\n   This will throw a warning.\r\n   */\n\n  useEffect(() => {\n    let isSubscribed = true;\n    axios.get(\"http://localhost:4000/\").then(res => {\n      if (isSubscribed) {\n        // Make sure setBooks is not executed when component is unmounted\n        setBooks(res.data);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n    return () => isSubscribed = false;\n  }, []);\n\n  const searchBook = event => {\n    console.log(event.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search\",\n    value: query,\n    onChange: searchBook,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(Row, {\n    className: \"card-deck\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, books.map(book => React.createElement(BookCard, {\n    key: uuidv1(),\n    name: book.name,\n    author: book.author,\n    description: book.description,\n    genre: book.genre,\n    image: book.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }))));\n}\n\nexport default Browse;","map":{"version":3,"sources":["C:/Users/Jonathan Seow/Desktop/CS/Web Dev (Udemy)/My Work/Bookstagram/client/src/components/Browse.js"],"names":["React","useState","useEffect","Row","BookCard","axios","v1","uuidv1","Browse","books","setBooks","query","setQuery","isSubscribed","get","then","res","data","catch","error","console","log","searchBook","event","target","value","map","book","name","author","description","genre","image"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B,C,CAAqC;;AAErC,SAASC,MAAT,GAAkB;AAEhB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AAEA;;;;;;;AAOAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,YAAY,GAAG,IAAnB;AAEAR,IAAAA,KAAK,CAACS,GAAN,CAAU,wBAAV,EAAoCC,IAApC,CAAyCC,GAAG,IAAI;AAC9C,UAAIH,YAAJ,EAAkB;AAAE;AAClBH,QAAAA,QAAQ,CAACM,GAAG,CAACC,IAAL,CAAR;AACD;AACF,KAJD,EAIGC,KAJH,CAISC,KAAK,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAND;AAQA,WAAO,MAAMN,YAAY,GAAG,KAA5B;AAED,GAbQ,EAaN,EAbM,CAAT;;AAeA,QAAMS,UAAU,GAAIC,KAAD,IAAW;AAC5BH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,MAAN,CAAaC,KAAzB;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,QAA/B;AAAwC,IAAA,KAAK,EAAEd,KAA/C;AAAsD,IAAA,QAAQ,EAAEW,UAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,KAAK,CAACiB,GAAN,CAAUC,IAAI,IAAI,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEpB,MAAM,EAArB;AAAyB,IAAA,IAAI,EAAEoB,IAAI,CAACC,IAApC;AAA0C,IAAA,MAAM,EAAED,IAAI,CAACE,MAAvD;AAA+D,IAAA,WAAW,EAAEF,IAAI,CAACG,WAAjF;AAA8F,IAAA,KAAK,EAAEH,IAAI,CAACI,KAA1G;AAAiH,IAAA,KAAK,EAAEJ,IAAI,CAACK,KAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlB,CADH,CAFF,CADF;AAQD;;AAED,eAAexB,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport BookCard from \"./BookCard\";\r\nimport axios from \"axios\";\r\nimport { v1 as uuidv1 } from \"uuid\"; // Timestamp unique id\r\n\r\nfunction Browse() {\r\n\r\n  const [books, setBooks] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  /*\r\n   Note:\r\n   This component “subscribes” to a promise by axios.get, but it never “unsubscribes” or cancels the request.\r\n   If for any reason, the component is unmounted before the promise resolves, the code will try to “set state” (calling setBooks) on an unmounted component.\r\n   This will throw a warning.\r\n   */\r\n\r\n  useEffect(() => {\r\n    let isSubscribed = true;\r\n\r\n    axios.get(\"http://localhost:4000/\").then(res => {\r\n      if (isSubscribed) { // Make sure setBooks is not executed when component is unmounted\r\n        setBooks(res.data);\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n    });\r\n\r\n    return () => isSubscribed = false;\r\n\r\n  }, []);\r\n\r\n  const searchBook = (event) => {\r\n    console.log(event.target.value);\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <input type=\"text\" placeholder=\"Search\" value={query} onChange={searchBook}/>\r\n      <Row className=\"card-deck\">\r\n        {books.map(book => <BookCard key={uuidv1()} name={book.name} author={book.author} description={book.description} genre={book.genre} image={book.image} />)}\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Browse;\r\n"]},"metadata":{},"sourceType":"module"}